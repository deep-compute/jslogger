!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).uuidv1=e()}}(function(){return function e(n,t,o){function i(s,u){if(!t[s]){if(!n[s]){var a="function"==typeof require&&require;if(!u&&a)return a(s,!0);if(r)return r(s,!0);var f=new Error("Cannot find module '"+s+"'");throw f.code="MODULE_NOT_FOUND",f}var c=t[s]={exports:{}};n[s][0].call(c.exports,function(e){var t=n[s][1][e];return i(t||e)},c,c.exports,e,n,t,o)}return t[s].exports}for(var r="function"==typeof require&&require,s=0;s<o.length;s++)i(o[s]);return i}({1:[function(e,n,t){for(var o=[],i=0;i<256;++i)o[i]=(i+256).toString(16).substr(1);n.exports=function(e,n){var t=n||0,i=o;return i[e[t++]]+i[e[t++]]+i[e[t++]]+i[e[t++]]+"-"+i[e[t++]]+i[e[t++]]+"-"+i[e[t++]]+i[e[t++]]+"-"+i[e[t++]]+i[e[t++]]+"-"+i[e[t++]]+i[e[t++]]+i[e[t++]]+i[e[t++]]+i[e[t++]]+i[e[t++]]}},{}],2:[function(e,n,t){(function(e){var t,o=e.crypto||e.msCrypto;if(o&&o.getRandomValues){var i=new Uint8Array(16);t=function(){return o.getRandomValues(i),i}}if(!t){var r=new Array(16);t=function(){for(var e,n=0;n<16;n++)0==(3&n)&&(e=4294967296*Math.random()),r[n]=e>>>((3&n)<<3)&255;return r}}n.exports=t}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],3:[function(e,n,t){var o=e("./lib/rng"),i=e("./lib/bytesToUuid"),r=o(),s=[1|r[0],r[1],r[2],r[3],r[4],r[5]],u=16383&(r[6]<<8|r[7]),a=0,f=0;n.exports=function(e,n,t){var o=n&&t||0,r=n||[],c=void 0!==(e=e||{}).clockseq?e.clockseq:u,l=void 0!==e.msecs?e.msecs:(new Date).getTime(),d=void 0!==e.nsecs?e.nsecs:f+1,g=l-a+(d-f)/1e4;if(g<0&&void 0===e.clockseq&&(c=c+1&16383),(g<0||l>a)&&void 0===e.nsecs&&(d=0),d>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");a=l,f=d,u=c;var w=(1e4*(268435455&(l+=122192928e5))+d)%4294967296;r[o++]=w>>>24&255,r[o++]=w>>>16&255,r[o++]=w>>>8&255,r[o++]=255&w;var m=l/4294967296*1e4&268435455;r[o++]=m>>>8&255,r[o++]=255&m,r[o++]=m>>>24&15|16,r[o++]=m>>>16&255,r[o++]=c>>>8|128,r[o++]=255&c;for(var v=e.node||s,p=0;p<6;++p)r[o+p]=v[p];return n||i(r)}},{"./lib/bytesToUuid":1,"./lib/rng":2}]},{},[3])(3)}),function(){"use strict";window.jslogger=function(e){this.ajax=function(e){var n=(new Date).getTime(),t=$.ajax(e);return t.done(function(){d("ajax success",e.url,t,n,!0)}),t.fail(function(){d("ajax failed",e.url,t,n,!1)}),t},this.getJSON=function(e,n){var t=(new Date).getTime(),o=$.getJSON(e,n);return o.done(function(){d("getJSON success",e,o,t,!0)}),o.fail(function(){d("getJSON failed",e,o,t,!1)}),o},this.get=function(e,n){var t=(new Date).getTime(),o=$.get(e,n);return o.done(function(){d("get request success",e,o,t,!0)}),o.fail(function(){d("get request failed",e,o,t,!1)}),o},this.post=function(e,n){var t=(new Date).getTime(),o=$.post(e,n);return o.done(function(){d("post request success",e,o,t,!0)}),o.fail(function(){d("post request failed",e,o,t,!1)}),o},this.exception=function(){return l("exception",arguments[0],window.location.href,arguments[1]),void console.error(arguments[0])},this.info=function(){return l("info",arguments[0],window.location.href,arguments[1]),void console.info(arguments[0])},this.error=function(){return l("exception",arguments[0],window.location.href,arguments[1]),void console.error(arguments[0])},this.debug=function(){return l("debug",arguments[0],window.location.href,arguments[1]),void console.debug(arguments[0])},this.log=function(){return l("log",arguments[0],window.location.href,arguments[1]),void console.log(arguments[0])},this.warn=function(){return l("warn",arguments[0],window.location.href,arguments[1]),void console.warn(arguments[0])},this.message=function(){l("msg",arguments[0],window.location.href,arguments[1])},this.bind=function(e){a=e.user,delete e.user,f=e};var n=0,t=e.url,o=e.time_ms?e.time_ms:5e3,i=e.max_logs?e.max_logs:1e3,r=r,s=s,u=u,a=null,f=null,c=!0;function s(e){var n=new Date,t=window.location.host,o={UUID:uuidv1(),timestamp:n.getTime(),message:e.message,level:e.type,url:e.url,host_url:t,misc:e.misc};if(null!=a&&(o.user=a),null!=f)for(var i in f)o[i]=f[i];u(o)}function u(e){n+=1,window.localStorage.setItem("logging_"+e.UUID,JSON.stringify(e)),n>i&&(r(),n=0)}function l(e,n,t,o){s({type:e,message:n,url:t,misc:o})}function d(e,n,t,o,i){try{var r=(new Date).getTime(),u={status:t.status,ready_state:t.readyState,status_message:t.statusText,url:n,start_time_ms:o,end_time_ms:r,request_time_ms:r-o,response_length:t.responseText&&t.responseText.length};return i||(u.response=t.responseText.substring(0,2e3)),void s({message:e,misc:u})}catch(e){}}function r(){c&&function e(){n=0,c=!1;var o=0,i=[],r=[];for(var s in window.localStorage)o=s.startsWith("logging")?o+1:o;if(0!=o){for(var u in window.localStorage)u.startsWith("logging")&&i.length<1e3&&(i.push(JSON.parse(window.localStorage.getItem(u))),r.push(u));var a={logs:i},f=$.ajax({url:t,type:"POST",data:JSON.stringify(a),timeout:6e5,success:function(){for(var e in r)delete window.localStorage[r[e]]}});f.always(function(n){(o-=i.length)>0&&e(),c=!0})}else c=!0}()}setInterval(function(){r()},o),window.onerror=function(e,n,t,o,i){var r=new Date,s={UUID:uuidv1(),timestamp:r.getTime(),message:e,url:n,lineno:t,colno:o,error:i,level:"javascript",host_url:window.location.host};u(s)},r()}}();
